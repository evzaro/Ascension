{"version":3,"sources":["webpack:///webpack/bootstrap 6544f540e02c96da2ffd","webpack:///./lib/ascension.js","webpack:///./lib/player.js","webpack:///./lib/bell.js","webpack:///./lib/bg.js","webpack:///./lib/images.js","webpack:///./lib/sounds.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,kBAAkB;;AAEnC;AACA,0BAAyB;AACzB,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1EA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;;;;;;ACpCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxBA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACNA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6544f540e02c96da2ffd\n **/","var PlayerModel = require('./player.js');\nvar BellModel = require('./bell.js');\nvar Background = require('./bg.js');\n\nvar canvas = document.getElementById('canvas');\nvar ctx = canvas.getContext('2d');\n\nvar player = new PlayerModel(canvas, gameOver);\nvar score = 0;\nvar currentBellPointVal = 10;\nvar bells = [];\n\nvar Sounds = require('./sounds.js');\nvar soundStore = new Sounds();\nsoundStore.music.play();\n\nvar bgCanvas = document.getElementById('background');\nvar bgContext = bgCanvas.getContext('2d');\nBackground.prototype.context = bgContext;\nBackground.prototype.canvasWidth = bgCanvas.width;\nBackground.prototype.canvasHeight = bgCanvas.height;\nvar background = new Background();\n\nvar makeNewBell = function () {\n\tif (player.dead === false) {\n  \tbells.push(new BellModel(canvas));\n\t}\n};\n\n\nfunction handleScore (){\n  score += currentBellPointVal;\n  currentBellPointVal += 10;\n}\n\nfunction checkCollision (bell) {\n  var dx = player.playerX - bell.x;\n  var dy = (canvas.height - player.playerRadius + player.playerY) - bell.y;\n  var distance = Math.sqrt(dx * dx + dy * dy);\n\n  if (distance < player.playerRadius + bell.radius) {\n    handleScore();\n\t\tbell.chime.play();\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction draw () {\n  background.draw();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = 'white';\n  ctx.fillText(score, 5, 15);\n  player.drawPlayer(ctx);\n\n  for (var i = 0; i < bells.length; i++) {\n\n    if (bells[i].y > 500 + bells[i].radius) {\n      bells.splice(i, 1); //clear bell when off screen\n    } else {\n\t\t\tif (player.dead === false){\n\t      bells[i].drawBell(ctx);\n\t      if (checkCollision(bells[i])){\n\t\t\t\t\tplayer.startedAscent = true;\n\t        bells.splice(i, 1);\n\t        if ( (canvas.height-player.playerRadius + player.playerY) > canvas.height * 0.2){\n\t          player.handleJump();\n\t        }\n\t      }\n\t\t\t} else {\n\t\t\t\tif (player.playerY > -230){\n\t\t\t\t\tplayer.playerY += -0.15;\n\t\t\t\t}\n\t\t\t\tbells[i].fallSpeed = -5;\n\t\t\t\tbells[i].drawBell(ctx);\n\t\t\t\tbackground.falling = true;\n\t\t\t}\n    }\n  }\n\n  if ( (canvas.height-player.playerRadius + player.playerY) <= canvas.height * 0.2){\n    player.jumpVelocity = player.jumpVelocity/1.3;\n    bells.forEach(function(bell){\n      bell.startShift();\n    });\n  } else {\n    bells.forEach(function(bell){\n      bell.endShift();\n    });\n  }\n\n}\n\nfunction gameOver (){\n\twindow.clearInterval(bellMaker);\n\twindow.clearInterval(mainDraw);\n\tdrawGameOver();\n\tcanvas.addEventListener('click', run, false);\n\tplayer = new PlayerModel(canvas, gameOver);\n\tconsole.log(background);\n\tscore = 0;\n\tcurrentBellPointVal = 10;\n\tbells = [];\n\tbackground.falling = false;\n\tbackground.panningSpeed = 0.6;\n\t//refactor\n}\n\nfunction drawIntro() {\n\t\tctx.fillStyle = 'black';\n    ctx.fillRect(0,0,canvas.width, canvas.height);\n\t\tctx.fillStyle = 'white';\n\t\tctx.font = \"30px comic-sans\";\n\t\tctx.fillText(\"Ascension\", 35, 30);\n\t\tctx.font = \"30px comic-sans\";\n\t  ctx.fillText(\"Try to get the high-score by bouncing on the snowflakes!\", 35, 200);\n\t\tctx.font = \"15px comic-sans\";\n\t\tctx.fillText(\"Click anywhere to begin\", 35, 300);\n}\n\nfunction drawGameOver() {\n\t\tctx.fillStyle = 'black';\n    ctx.fillRect(0,0,canvas.width, canvas.height);\n\t\tctx.fillStyle = 'white';\n\t\tctx.font = \"30px comic-sans\";\n\t\tctx.fillText(\"GAME OVER\", 35, 30);\n\t\tctx.fillText(\"Your score was \" + score, 35, 100);\n\t\tctx.font = \"30px comic-sans\";\n\t  ctx.fillText(\"Try again?\", 35, 250);\n\t\tctx.font = \"15px comic-sans\";\n\t\tctx.fillText(\"Click anywhere to begin\", 35, 300);\n\n}\n\ndrawIntro();\ncanvas.addEventListener('click', run, false);\n\nfunction run(){\n\tconsole.log(background);\n\tcanvas.removeEventListener('click', run, false);\n\tbellMaker = window.setInterval(makeNewBell, 340);\n\tmainDraw = window.setInterval(draw, 10);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ascension.js\n ** module id = 0\n ** module chunks = 0\n **/","var PlayerModel = function(canvas, deathFunc) {\n  this.canvas = canvas;\n  this.playerRadius = 25;\n  this.playerY = 0;\n  this.playerX = (this.canvas.width - this.playerRadius)/2;\n  this.jumping = false;\n  this.jumpVelocity = -4.5;\n  this.startedAscent = false;\n  this.addListeners();\n  this.dead = false;\n  this.deathFunc = deathFunc;\n};\n\nhandleMove = function (e) {\n  this.playerX = e.pageX - this.canvas.offsetLeft - (this.playerRadius/2);\n};\n\nPlayerModel.prototype.handleJump = function() {\n\n  this.jumping = true;\n  this.jumpVelocity = -5;\n\n\n};\n\nPlayerModel.prototype.initiateJump = function () {\n  var gravity = 0.10;\n    this.removeListener();\n    this.playerY += this.jumpVelocity;\n    this.jumpVelocity += gravity;\n\n    if (this.playerY > 0) {\n      if (this.startedAscent === false) {\n        this.addListeners();\n      } else {\n        this.handleDeath();\n\n      }\n      this.jumping = false;\n      this.playerY = 0;\n      this.jumpVelocity = -5;\n    }\n};\n\nPlayerModel.prototype.handleDeath = function () {\n  this.dead = true;\n  window.setTimeout(this.deathFunc, 7000);\n};\n\nPlayerModel.prototype.addListeners = function () {\n  this.listener = this.handleJump.bind(this);\n  this.canvas.addEventListener(\"mousemove\", handleMove.bind(this), false);\n  this.canvas.addEventListener(\"mousedown\", this.listener, false);\n};\n\nPlayerModel.prototype.removeListener = function () {\n\n  this.canvas.removeEventListener(\"mousedown\", this.listener, false);\n};\n\n\n\nPlayerModel.prototype.drawPlayer = function (ctx) {\n\n\n  ctx.beginPath();\n  ctx.arc(this.playerX, this.canvas.height-this.playerRadius + this.playerY , this.playerRadius, 0, Math.PI*2);\n  ctx.fill();\n  if (this.jumping === true){\n    this.initiateJump();\n  }\n  ctx.closePath();\n};\n\nmodule.exports = PlayerModel;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/player.js\n ** module id = 1\n ** module chunks = 0\n **/","var Sounds = require('./sounds.js');\n\nvar soundStore = new Sounds();\n\nvar BellModel = function(canvas) {\n  this.radius = 15;\n  this.chime = soundStore.chime;\n  this.canvas = canvas;\n  this.y = -100;\n  this.fallSpeed = 1;\n  // this.shifting = false;\n  this.shiftVelocity = 3.0;\n  this.x = (Math.random() * this.canvas.width);\n};\n\nBellModel.prototype.startShift = function() {\n  // this.shifting = true;\n  this.fallSpeed = this.shiftVelocity;\n};\n\nBellModel.prototype.endShift = function() {\n  // this.shifting = false;\n  this.fallSpeed = 1;\n};\n\nBellModel.prototype.drawBell = function (ctx) {\n  ctx.beginPath();\n  ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);\n  ctx.fill();\n\n    this.y += this.fallSpeed;\n\n  ctx.closePath();\n};\n\n\nmodule.exports = BellModel;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/bell.js\n ** module id = 2\n ** module chunks = 0\n **/","var Images = require('./images.js');\n\nvar imageStore = new Images();\nfunction Background() {\n  this.falling = false;\n  this.x = 0;\n  this.y = 0;\n\tthis.panningSpeed = 0.6;\n\tthis.draw = function() {\n\t\tthis.y += this.panningSpeed;\n\t\tthis.context.drawImage(imageStore.background, this.x, this.y);\n\t\tthis.context.drawImage(imageStore.background, this.x, this.y - this.canvasHeight);\n\t\tif (this.y >= this.canvasHeight) {\n\t\t\tthis.y = 0;\n    } else if (this.falling === true) {\n      this.panningSpeed = -5.5;\n      if (this.y < 0) {\n        this.y = this.canvasHeight;\n      }\n    }\n\n\t};\n}\n\nmodule.exports = Background;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/bg.js\n ** module id = 3\n ** module chunks = 0\n **/","var Images = function() {\n\n\tthis.background = new Image();\n\tthis.background.src = \"./images/bg.png\";\n};\n\nmodule.exports = Images;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/images.js\n ** module id = 4\n ** module chunks = 0\n **/","var Sounds = function() {\n\n\tthis.chime = new Audio();\n\tthis.chime.src = \"./audio/chime.wav\";\n  this.music = new Audio();\n  this.music.src = \"./audio/music.wav\";\n  this.music.loop = true;\n\n};\n\nmodule.exports = Sounds;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/sounds.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}